<!--
  Generated template for the TrackControlPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>
            Track control for {{deviceName}}
        </ion-title>
    </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">

    <ion-list>
        <ion-item>
            <ion-label color="primary">Device Name:</ion-label>
            <ion-input placeholder="{{deviceName}}" [(ngModel)]="newDeviceName"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label color="primary">Prefix Whitelist:</ion-label>
            <ion-input placeholder="{{whiteList}}" [(ngModel)]="newWhiteList"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label color="primary">Category</ion-label>
            <ion-select [(ngModel)]="categoryId">
                <ion-select-option *ngFor="let c of config.categories" [value]="c.categoryId">{{ c.categoryName }}</ion-select-option>
            </ion-select>
        </ion-item>
        <ion-item>
            <ion-label color="primary">Agency</ion-label>
            <ion-select [(ngModel)]="agencyId">
                <ion-select-option *ngFor="let a of config.agencies" [value]="a.agencyId">{{ a.agencyAbbr }}</ion-select-option>
            </ion-select>
        </ion-item>

      <ion-item>
        <ion-label color="primary">Primary Source</ion-label>
        <ion-select [(ngModel)]="primarySource">
          <ion-select-option *ngFor="let source of (track.source | removeLocalSourceFilter)">{{ sourceType[source]}}</ion-select-option>
        </ion-select>
      </ion-item>

<!--        <ion-list>-->
<!--            <ion-radio-group allow-empty-selection="false">-->
<!--                <ion-item>-->
<!--                    <ion-label color="primary">Primary Source</ion-label>-->
<!--                </ion-item>-->
<!--                <ion-item *ngFor="let source of (track.source | sourceFilter)">-->
<!--                    <ion-label>{{SourceType[source]}}</ion-label>-->
<!--                    <ion-radio value="{{source}}" checked="true" ></ion-radio>-->
<!--                </ion-item>-->
<!--            </ion-radio-group>-->
<!--        </ion-list>-->

        <ion-item>
            <ion-label color="primary">Update Rate</ion-label>
            <ion-checkbox [(ngModel)]="autoMode" slot="end"></ion-checkbox>
            <ion-label>Auto Mode</ion-label>
        </ion-item>
        <ion-item>
            <ion-range [disabled]="autoMode" min="{{min}}" max="{{max}}" pin="true" step="250" snaps="true" [(ngModel)]="updateRate">
                <ion-label slot="start">2,000 ms</ion-label>
                <ion-label slot="end">10,000 ms</ion-label>
            </ion-range>
        </ion-item>
    </ion-list>

    <p>
        <ion-button color="primary" (click)="updateTrackData()">Apply</ion-button>
    </p>
    <p>
        <ion-button color="danger" (click)="restartTexas()">Restart TEXAS</ion-button>
    </p>

</ion-content>
